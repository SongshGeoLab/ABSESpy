# ABSESpy Makefile åˆ†å±‚æµ‹è¯•ä½¿ç”¨æŒ‡å—

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æµ‹è¯•å‘½ä»¤
```bash
make test-help
```

### æœ€å¸¸ç”¨çš„æµ‹è¯•å‘½ä»¤
```bash
# å¿«é€ŸéªŒè¯ï¼ˆå¼€å‘æ—¶ä½¿ç”¨ï¼‰
make test-quick

# å®Œæ•´åˆ†å±‚æµ‹è¯•
make test-layered

# å¼€å‘æµ‹è¯•ï¼ˆé‡åˆ°ç¬¬ä¸€ä¸ªå¤±è´¥å°±åœæ­¢ï¼‰
make test-dev
```

## ğŸ“‹ åˆ†å±‚æµ‹è¯•å‘½ä»¤è¯¦è§£

### ğŸ§ª ç¬¬1å±‚ï¼šåŸºç¡€åŠŸèƒ½æµ‹è¯•
```bash
# åªè¿è¡ŒåŸºç¡€åŠŸèƒ½æµ‹è¯•
make test-foundation

# å¿«é€Ÿæµ‹è¯•ï¼ˆåŸºç¡€åŠŸèƒ½ï¼Œæ— è¦†ç›–ç‡ï¼‰
make test-quick
```

**ç”¨é€”**: éªŒè¯æ ¸å¿ƒç±»èƒ½æ­£å¸¸åˆ›å»ºå’ŒåŸºæœ¬æ“ä½œ
**åŒ…å«**: MainModel, Actor, BaseNature, PatchCell ç­‰æ ¸å¿ƒç»„ä»¶
**æ—¶é—´**: ~0.2ç§’

### ğŸ¯ ç¬¬2å±‚ï¼šç”¨æˆ·åœºæ™¯æµ‹è¯•
```bash
# åªè¿è¡Œç”¨æˆ·åœºæ™¯æµ‹è¯•
make test-scenarios
```

**ç”¨é€”**: åŸºäºå®é™…ä½¿ç”¨åœºæ™¯çš„æµ‹è¯•
**åŒ…å«**: å¤šç±»å‹ä»£ç†ç®¡ç†ã€ç©ºé—´æ“ä½œã€æ¨¡å‹ç”Ÿå‘½å‘¨æœŸç­‰
**æ—¶é—´**: ~0.2ç§’

### ğŸ” åŠŸèƒ½ç‰¹å®šæµ‹è¯•
```bash
# æµ‹è¯•ä»£ç†ç›¸å…³åŠŸèƒ½
make test-agents

# æµ‹è¯•ç©ºé—´ç›¸å…³åŠŸèƒ½
make test-spatial

# æµ‹è¯•æ¨¡å‹ç›¸å…³åŠŸèƒ½
make test-model
```

**ç”¨é€”**: é’ˆå¯¹ç‰¹å®šåŠŸèƒ½æ¨¡å—è¿›è¡Œæµ‹è¯•
**ä¼˜åŠ¿**: å¿«é€Ÿå®šä½é—®é¢˜ï¼Œä¸“æ³¨ç‰¹å®šé¢†åŸŸ

### ğŸ—ï¸ å®Œæ•´æµ‹è¯•å¥—ä»¶
```bash
# è¿è¡Œæ‰€æœ‰åˆ†å±‚æµ‹è¯•ï¼ˆç¨³å®šç‰ˆæœ¬ï¼‰
make test-layered

# å¼€å‘æµ‹è¯•ï¼ˆå¿«é€Ÿï¼Œé‡åˆ°å¤±è´¥å°±åœæ­¢ï¼‰
make test-dev

# å¹¶è¡Œæµ‹è¯•ï¼ˆæé«˜é€Ÿåº¦ï¼‰
make test-parallel
```

### ğŸ“Š æµ‹è¯•æŠ¥å‘Šå’Œè¦†ç›–ç‡
```bash
# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make test-coverage

# æŸ¥çœ‹ allure æµ‹è¯•æŠ¥å‘Š
make report
```

## ğŸš€ ä½¿ç”¨åœºæ™¯

### å¼€å‘æ—¶å¿«é€ŸéªŒè¯
```bash
# ä¿®æ”¹ä»£ç åå¿«é€ŸéªŒè¯
make test-quick

# é‡åˆ°é—®é¢˜æ—¶å¿«é€Ÿå®šä½
make test-dev
```

### æäº¤å‰å®Œæ•´æ£€æŸ¥
```bash
# è¿è¡Œæ‰€æœ‰ç¨³å®šæµ‹è¯•
make test-layered

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make test-coverage
```

### è°ƒè¯•ç‰¹å®šåŠŸèƒ½
```bash
# åªæµ‹è¯•ä»£ç†åŠŸèƒ½
make test-agents

# åªæµ‹è¯•ç©ºé—´åŠŸèƒ½
make test-spatial

# æµ‹è¯•ç‰¹å®šæ¨¡å—
make test-module MODULE=agents
```

### CI/CD é›†æˆ
```bash
# æ¸…ç†æµ‹è¯•ç¼“å­˜
make test-clean

# å®‰è£…æµ‹è¯•å·¥å…·
make install-test-tools
```

## ğŸ“ˆ æµ‹è¯•ç»Ÿè®¡

### å½“å‰æµ‹è¯•çŠ¶æ€
- **æ€»æµ‹è¯•æ•°**: 24ä¸ªï¼ˆåˆ†å±‚æµ‹è¯•ï¼‰
- **é€šè¿‡ç‡**: 100%ï¼ˆåˆ†å±‚æµ‹è¯•ï¼‰
- **ä»£ç è¦†ç›–ç‡**: 47%
- **æ‰§è¡Œæ—¶é—´**: <1ç§’ï¼ˆåˆ†å±‚æµ‹è¯•ï¼‰

### æµ‹è¯•åˆ†å¸ƒ
- **åŸºç¡€åŠŸèƒ½æµ‹è¯•**: 12ä¸ªæµ‹è¯•
- **ç”¨æˆ·åœºæ™¯æµ‹è¯•**: 12ä¸ªæµ‹è¯•
- **ä»£ç†ç›¸å…³æµ‹è¯•**: 21ä¸ªæµ‹è¯•ï¼ˆåŒ…å«ç°æœ‰æµ‹è¯•ï¼‰
- **ç©ºé—´ç›¸å…³æµ‹è¯•**: 49ä¸ªæµ‹è¯•ï¼ˆåŒ…å«ç°æœ‰æµ‹è¯•ï¼‰

## ğŸ”§ è‡ªå®šä¹‰å’Œæ‰©å±•

### æ·»åŠ æ–°çš„æµ‹è¯•å‘½ä»¤
åœ¨ `makefile` ä¸­æ·»åŠ ï¼š
```makefile
test-custom:
	@echo "ğŸ”§ Running Custom Tests..."
	uv run pytest tests/custom/ -v --tb=short
```

### ä¿®æ”¹æµ‹è¯•å‚æ•°
```makefile
# ä¿®æ”¹è¦†ç›–ç‡é˜ˆå€¼
test-coverage:
	uv run pytest tests/foundation/ tests/scenarios/ --cov=abses --cov-report=html --cov-fail-under=50
```

### æ·»åŠ æ€§èƒ½æµ‹è¯•
```makefile
test-performance:
	@echo "âš¡ Running Performance Tests..."
	uv run pytest tests/performance/ --benchmark-only
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å¼€å‘æµç¨‹
1. **ç¼–ç æ—¶**: ä½¿ç”¨ `make test-quick` å¿«é€ŸéªŒè¯
2. **è°ƒè¯•æ—¶**: ä½¿ç”¨ `make test-dev` å¿«é€Ÿå®šä½é—®é¢˜
3. **æäº¤å‰**: ä½¿ç”¨ `make test-layered` å®Œæ•´æ£€æŸ¥
4. **å‘å¸ƒå‰**: ä½¿ç”¨ `make test-coverage` æ£€æŸ¥è¦†ç›–ç‡

### 2. é—®é¢˜æ’æŸ¥
1. **åŠŸèƒ½é—®é¢˜**: ä½¿ç”¨ `make test-agents` æˆ– `make test-spatial`
2. **æ€§èƒ½é—®é¢˜**: ä½¿ç”¨ `make test-parallel` å¯¹æ¯”
3. **å…¼å®¹æ€§é—®é¢˜**: æ£€æŸ¥ `make test-compatibility`

### 3. å›¢é˜Ÿåä½œ
1. **æ–°åŠŸèƒ½**: å…ˆå†™æµ‹è¯•ï¼Œå†å†™ä»£ç 
2. **Bugä¿®å¤**: å…ˆå†™å›å½’æµ‹è¯•
3. **é‡æ„**: ç¡®ä¿æ‰€æœ‰åˆ†å±‚æµ‹è¯•é€šè¿‡

## ğŸ‰ æ€»ç»“

è¿™ä¸ªåˆ†å±‚æµ‹è¯•çš„ makefile æä¾›äº†ï¼š

âœ… **å¿«é€ŸéªŒè¯**: `test-quick` åœ¨0.2ç§’å†…éªŒè¯æ ¸å¿ƒåŠŸèƒ½
âœ… **å®Œæ•´æ£€æŸ¥**: `test-layered` ç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
âœ… **åŠŸèƒ½èšç„¦**: `test-agents`, `test-spatial` ç­‰é’ˆå¯¹ç‰¹å®šåŠŸèƒ½
âœ… **å¼€å‘å‹å¥½**: `test-dev` å¿«é€Ÿå®šä½é—®é¢˜
âœ… **CI/CD å°±ç»ª**: ä¸ GitHub Actions å®Œç¾é›†æˆ

é€šè¿‡è¿™ä¸ªåˆ†å±‚æµ‹è¯•ç­–ç•¥ï¼Œä½ å¯ä»¥ï¼š
- ğŸš€ å¿«é€ŸéªŒè¯ä»£ç å˜æ›´
- ğŸ¯ ç²¾ç¡®å®šä½é—®é¢˜
- ğŸ›¡ï¸ é˜²æ­¢å›å½’é—®é¢˜
- ğŸ“Š ç›‘æ§ä»£ç è´¨é‡
- ğŸ”„ æŒç»­é›†æˆéƒ¨ç½²
